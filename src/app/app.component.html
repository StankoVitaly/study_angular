<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <app-search (onSearchData)="updateUserFilter($event)"></app-search>
    </div>

    <!--<template class="col-sm-12" *ngIf="!isLoaded">-->
    <!--<div class="loader">-->
    <!--Loading...-->
    <!--</div>-->
    <!--</template>-->

    <div class="col-sm-12" *ngIf="isLoaded">
      <!--<h1>User name: {{selectedUserName}}</h1>-->
      <h4>Followers: {{followers.length}}</h4>
      <div class="user-grid">
        <div *ngFor="let follower of followers" class="user-item">
          <div class="ratio-save">
            <div class="croper" [ngStyle]="{'background-image': 'url('+ follower.avatar_url +')'}"></div>
          </div>
          <div class="description">
            <div class="title">{{follower.login}}</div>
          </div>
        </div>
      </div>

      <h4>Repositories: {{repositories.length}}</h4>
      <div class="user-grid">
        <div *ngFor="let repo of repositories" class="user-item">
          <div class="description">
            <div class="watcher">
              <span class="icon">
                <svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g
                  fill="currentColor" fill-rule="evenodd"><path
                  d="M12 18c-4.536 0-7.999-4.26-7.999-6 0-2.001 3.459-6 8-6 4.376 0 7.998 3.973 7.998 6 0 1.74-3.462 6-7.998 6m0-14C6.48 4 2 8.841 2 12c0 3.086 4.576 8 10 8 5.423 0 10-4.914 10-8 0-3.159-4.48-8-10-8"></path><path
                  d="M11.977 13.984c-1.103 0-2-.897-2-2s.897-2 2-2c1.104 0 2 .897 2 2s-.896 2-2 2m0-6c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.207 0 4-1.794 4-4s-1.793-4-4-4"></path></g></svg>
              </span>
              <span>{{repo.watchers_count}}</span>
            </div>
            <div class="title">{{repo.name}}</div>
            <div class="line">
              <span>Created:</span>
              <span>{{repo.created_at | date : 'd. MMMM y hh:mm' }}</span>
            </div>
            <div class="line">
              <span>Last update:</span>
              <span>{{repo.updated_at | date : 'd. MMMM y hh:mm' }}</span>
            </div>
            <div class="line">
              <span>Link:</span>
              <span>
                <a [href]="repo.html_url" target="_blank">{{repo.html_url}}</a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-12">
      <h4>Users: {{searchedList.length}}</h4>
      <div class="user-grid">
        <app-list class="user-item"
                  *ngFor="let user of users"
                  [item]="user"
                  [followers]="followers"
                  [repositories]="repositories"
                  (onShowFollowers)="showFollowersDetail($event)"
                  (onShowRepos)="showReposDetail($event)"></app-list>
      </div>
    </div>
  </div>
</div>
